
###
dimension       3
boundary        p p p
units           metal
atom_style      full
variable        seed world 1428
variable        freq equal 500
variable        temperature equal 300.0
variable        temperature2 equal 300.0
variable        tempDamp equal 100.0 # approx 0.1 ps
variable        pressure equal 1.00
variable        pressureDamp equal 500.0

read_data       data.CPBr
mass            1 79.904     # Br
mass            2 132.904999 # Cs
mass            3 204.199997 # Pb
pair_style      lj/cut/coul/long 8.0 10.0
pair_modify     mix arithmetic
neigh_modify    every 1
kspace_style    pppm 1e-4
dielectric 1.0
variable ABr  equal "0.01023"
variable rBr  equal "4.129"
variable ACs  equal "0.5784"
variable rCs  equal "2.927"
variable APb  equal "0.01071"
variable rPb  equal "2.524"
pair_coeff      1 1 ${ABr}    ${rBr}
pair_coeff      2 2 ${ACs}    ${rCs}
pair_coeff      3 3 ${APb}    ${rPb}
thermo          ${freq}
thermo_style    custom step temp pe ke etotal press lx ly lz xy xz yz
# Minimization
min_style cg
fix 1 all box/relax aniso 0.0 vmax 0.01
minimize        1.0e-3 1.0e-5 1000 10000
unfix 1
write_data      data.min
# NVT
dump            myDump1 all atom 500 out.0.lammpstrj
fix             1 all temp/csvr ${temperature} ${temperature} ${tempDamp} ${seed}
fix             2 all nve
timestep        0.002
velocity        all create ${temperature} ${seed} dist gaussian
run             10000
unfix           1
unfix           2
undump          myDump1
write_data      data.NVT
# NPT
dump            myDump2 all atom 500 out.0.lammpstrj
fix             1 all temp/csvr ${temperature} ${temperature2} ${tempDamp} ${seed}
fix             2 all nph tri ${pressure} ${pressure} ${pressureDamp}
fix             3 all momentum 10000 linear 1 1 1
run             10000
unfix           1
unfix           2
unfix           3
undump          myDump2
reset_timestep  0
write_restart   restart.file
write_data      data.eq

